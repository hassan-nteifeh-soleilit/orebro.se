#set ($propertyUtil = $sitevisionUtils.propertyUtil)#set ($linkRenderer = $sitevisionUtils.linkRenderer)#set ($portletContextUtil = $sitevisionUtils.portletContextUtil)#set ($years = $propertyUtil.getNode($portlet, "years"))#set ($dateUtil = $sitevisionUtils.dateUtil)$linkRenderer.setFontClass('selectorText')#set ($years = $propertyUtil.getNode($portlet, "years"))#set ($DAY_OF_MONTH = 5) ## Java Calender.DAY_OF_MONTH constant<div class="or-news-filter sol-facetter"><ul class="or-daterange" data-selected="">#### Iterate over every year#foreach ($year in $years.getNodes())   #set ($monthCount = 0)   ## Render year name   #set ($yearName = $propertyUtil.getString($year, "name"))   <li class="or-year">   $yearName   ##   ## Iterate over every month in the year   #foreach ($month in $year.getNodes())            ##      ## Render month name and URL      #set ($count = $propertyUtil.getInt($month, "count"))      #set ($name = $propertyUtil.getString($month, "name"))      #set ($title = $propertyUtil.getString($month, "title"))      #set ($url = $propertyUtil.getString($month, "URL"))      #set ($startDate = $propertyUtil.getCalendar($month, "startDate"))          #set ($startDay = $dateUtil.getCalendarAsString( "yyyy-MM-dd",$startDate))                ## Last date in month      #set ($monthMax = $startDate.getActualMaximum($DAY_OF_MONTH))            $startDate.set($DAY_OF_MONTH,$monthMax)            #set ($endDay = $dateUtil.getCalendarAsString( "yyyy-MM-dd",$startDate))                              #if ($count > 0)        #if ($monthCount == 0)                <ul>        #end        <li data-value="[${startDay}T00:00:00.000Z TO ${endDay}T23:59:59.999Z]" class="or-month">                        $name                </li>        #set($monthCount = $monthCount + 1)      #end         #end   #if ($monthCount > 0)    </ul>   #end   </li>   #end</ul></div><script>    function callIt()  {    console.log($svjq('ul.or-category').data('selected'))    console.log($svjq('ul.or-daterange').data('selected'))                 }    $svjq('.or-news-filter li.or-month').on('click', function(event){                     	$svjq('.or-daterange').data('selected',$(this).data('value'));                    	callIt();      });      var url = "$portletContextUtil.getCurrentPage().getIdentifier()/searchlist.portlet"</script></script>